Last updated: 2025-12-02

# Project Overview

## プロジェクト概要
- Music Macro Language (MML) を解釈し、音楽を再生するCLIツールです。
- コマンドラインからMML文字列（例: "cde"）を入力するだけで、リアルタイムに音楽を演奏します。
- Windows向けにRustで開発されており、シンプルで低レイテンシな音楽体験を提供します。

## 技術スタック
- フロントエンド: CLI (コマンドラインインターフェース) - ユーザーがコマンドラインを通じてMMLを直接入力し、音楽再生を指示します。
- 音楽・オーディオ:
    - Music Macro Language (MML): テキスト形式で音楽を記述するための言語であり、本プロジェクトの主要な入力形式です。
    - Nuked-OPM: FM音源であるYM2151エミュレーションライブラリで、音楽の中間表現から実際のオーディオ波形を生成するために利用されます。
    - cpal: Rustで記述されたオーディオ入出力ライブラリで、生成された音声波形をWindowsのオーディオデバイスに出力するために使用されます。
- 開発ツール:
    - Rust: 高性能かつ安全なシステムプログラミング言語であり、本プロジェクトの全体がこの言語で記述されています。
    - cargo: Rustの公式パッケージマネージャー兼ビルドツールで、プロジェクトの依存関係管理、ビルド、テスト、インストールに使用されます。
    - tree-sitter: 構文解析（パーシング）ライブラリで、MMLテキストを効率的かつ正確に抽象構文木（AST）に変換するために利用されます。
- テスト: TDD (Test-Driven Development) アプローチを採用しており、Linux環境でALSA SDKと設定を用いてヘッドレス環境でのテストが可能です。
- ビルドツール: cargo - Rustプロジェクトのビルドプロセス全体を管理します。
- 言語機能: Rustの強力な型システムと所有権モデルにより、メモリ安全性を確保しつつ高性能なアプリケーション開発を実現しています。
- 自動化・CI/CD: GitHub Actions - READMEの自動翻訳など、開発プロセスの自動化に利用されています。
- 開発標準:
    - .editorconfig: 異なるエディタやIDE間でコードのスタイルを統一するための設定ファイルです。
    - .vscode/settings.json: Visual Studio Codeのワークスペース設定ファイルで、開発環境の一貫性を保ちます。

## ファイル階層ツリー
```
📄 .editorconfig
📄 .gitignore
📁 .vscode/
  📊 extensions.json
  📊 settings.json
📄 Cargo.lock
📄 Cargo.toml
📄 LICENSE
📖 README.ja.md
📖 README.md
📄 _config.yml
📁 generated-docs/
  📖 development-status.md
🌐 googled947dc864c270e07.html
📁 issue-notes/
  📖 31.md
📁 src/
  📄 app.rs
  📄 cli.rs
  📄 client_manager.rs
  📄 converter.rs
  📄 input.rs
  📄 main.rs
```

## ファイル詳細説明
- **`.editorconfig`**: コーディングスタイル（インデント、改行コードなど）を定義し、複数の開発者やエディタ間で一貫性を保つための設定ファイルです。
- **`.gitignore`**: Gitがバージョン管理の対象外とするファイルやディレクトリを指定し、不要なファイルがリポジトリに含まれないようにします。
- **`.vscode/extensions.json`**: Visual Studio Codeでこのプロジェクトを開いた際に推奨される拡張機能を定義するファイルです。
- **`.vscode/settings.json`**: Visual Studio Codeのワークスペース固有の設定を定義するファイルで、コードフォーマットやリンティングなどの開発環境設定を統一します。
- **`Cargo.lock`**: `Cargo.toml`で指定された依存関係が実際に解決されたバージョンを固定するファイルで、ビルドの再現性を保証します。
- **`Cargo.toml`**: Rustプロジェクトのマニフェストファイルで、プロジェクト名、バージョン、依存クレート、ビルド設定などを定義します。
- **`LICENSE`**: プロジェクトのライセンス情報（MIT License）が記載されています。
- **`README.ja.md`**: プロジェクトの日本語版概要、機能、クイックスタートガイド、技術詳細などが記載された主要なドキュメントファイルです。
- **`README.md`**: `README.ja.md`の英語版であり、GitHub Actionsにより自動生成されています。
- **`_config.yml`**: GitHub Pagesなどの静的サイトホスティングサービスで使用される可能性のある設定ファイルです。
- **`generated-docs/development-status.md`**: プロジェクトの現在の開発状況や進捗が記載されたドキュメントファイルです。
- **`googled947dc864c270e07.html`**: Google Search Consoleなどのウェブサイト所有権確認目的で使用されるHTMLファイルです。
- **`issue-notes/31.md`**: 特定の課題（issue #31）に関する詳細なメモや検討内容が記載されたファイルです。
- **`src/app.rs`**: アプリケーションの中核となるロジックや、サーバーモードとクライアントモードの切り替え、MML演奏処理の調整などが含まれると推測されるファイルです。
- **`src/cli.rs`**: コマンドライン引数の解析と処理、およびCLIのサブコマンド定義を管理するファイルです。
- **`src/client_manager.rs`**: 起動中の音楽再生サーバーとの通信を管理し、MMLデータを送信するクライアント側のロジックを含むファイルです。
- **`src/converter.rs`**: 入力されたMML文字列を解析し、音楽再生に必要な中間表現データやオーディオ波形データへ変換する主要なロジックを実装するファイルです。
- **`src/input.rs`**: ユーザーからのMML文字列入力を受け取り、基本的なバリデーションを行うなど、入力関連の処理を担うファイルです。
- **`src/main.rs`**: Rustアプリケーションのエントリポイントです。プログラム全体の初期化、コマンドライン引数のパース、サーバー/クライアントモードの分岐、主要な機能の呼び出しを制御します。

## 関数詳細説明
提供された情報からは具体的な関数の詳細（役割、引数、戻り値、機能）を特定できませんでした。

## 関数呼び出し階層ツリー
```
関数呼び出し階層を分析できませんでした

---
Generated at: 2025-12-02 07:03:26 JST
