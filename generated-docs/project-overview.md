Last updated: 2025-11-10

# Project Overview

## プロジェクト概要
- Music Macro Language (MML) で記述された音楽を再生する、Windows向けのコマンドラインツールです。
- シンプルな操作でMML文字列をリアルタイムに音楽として出力し、低レイテンシな演奏を実現します。
- 自動サーバー起動によるバックグラウンド演奏機能も備えており、音楽を再生しながら他の作業を行うことも可能です。

## 技術スタック
- フロントエンド: CLI (コマンドラインインターフェース)
  - ユーザーが直接コマンドを入力して操作するインターフェース形式。
- 音楽・オーディオ: Nuked-OPM, cpal
  - **Nuked-OPM**: ヤマハFM音源チップYM2151のシミュレーションライブラリで、高品質な音源生成に利用されます。
  - **cpal**: クロスプラットフォーム対応のオーディオ入出力ライブラリで、生成された音声波形をOSのオーディオデバイスを通じて出力するために使用されます。
- 開発ツール: Rust, Zig cc, tree-sitter
  - **Rust**: 高性能で安全なシステムプログラミング言語。本プロジェクトの主要な開発言語です。
  - **Zig cc**: Zig言語のコンパイラで、特にC言語との連携やクロスコンパイル環境の構築に利用されます。
  - **tree-sitter**: プログラミング言語やマークアップ言語の構文解析木を生成するためのパーサーフレームワーク。MMLの構文解析に使用されます。
- ビルドツール: Cargo
  - **Cargo**: Rustプロジェクトのビルド、依存関係管理、テスト実行などを統合的に行うためのツールです。
- 言語機能: Rust
  - **Rust**: メモリ安全性、並行性、パフォーマンスを重視したシステムプログラミング言語。堅牢なアプリケーション開発に適しています。
- 自動化・CI/CD: GitHub Actions
  - **GitHub Actions**: コードの変更を検知して自動でビルド、テスト、デプロイなどのワークフローを実行するCI/CDサービス。READMEの自動翻訳などにも利用されています。
- 開発標準: EditorConfig
  - **EditorConfig**: 異なるエディタやIDE間で一貫したコーディングスタイルを定義・維持するためのファイル形式です。

## ファイル階層ツリー
```
📄 .editorconfig
📄 .gitignore
📁 .vscode/
  📊 extensions.json
  📊 settings.json
📄 Cargo.lock
📄 Cargo.toml
📖 IMPLEMENTATION_PLAN.md
📖 IMPLEMENTATION_SUMMARY.md
📄 LICENSE
📖 PHASE2_INVESTIGATION_REPORT.md
📖 PHASE2_STATUS.md
📖 QUICK_REFERENCE.md
📖 README.ja.md
📖 README.md
📖 TESTING_GUIDE.md
📄 _config.yml
📁 generated-docs/
📁 issue-notes/
  📖 11.md
  📖 13.md
  📖 15.md
  📖 17.md
  📖 19.md
  📖 21.md
📁 src/
  📄 app.rs
  📄 cli.rs
  📄 client_manager.rs
  📄 converter.rs
  📄 input.rs
  📄 main.rs
  📄 process_manager.rs
  📄 temp_file.rs
```

## ファイル詳細説明
- **.editorconfig**: 複数の開発者が異なるエディタを使用しても、コードのスタイル（インデント、改行コードなど）を統一するための設定ファイルです。
- **.gitignore**: Gitのバージョン管理から除外するファイルやディレクトリを指定するファイルです。ビルド生成物や一時ファイルなどが含まれます。
- **.vscode/extensions.json**: Visual Studio Codeを使用する開発者向けに、推奨される拡張機能をリストアップするファイルです。
- **.vscode/settings.json**: Visual Studio Codeのワークスペース固有の設定を定義するファイルです。
- **Cargo.lock**: RustのパッケージマネージャーCargoが、プロジェクトの依存関係の正確なバージョンを記録するためのファイルです。
- **Cargo.toml**: Rustプロジェクトのメタデータ（名前、バージョン、作者など）と、依存するライブラリ（クレート）を定義するファイルです。
- **IMPLEMENTATION_PLAN.md**: プロジェクトの実装計画に関する詳細を記述したドキュメントです。
- **IMPLEMENTATION_SUMMARY.md**: 実装の主要なポイントや進捗状況を要約したドキュメントです。
- **LICENSE**: プロジェクトのライセンス情報（MIT License）が記述されたファイルです。
- **PHASE2_INVESTIGATION_REPORT.md**: プロジェクトの第2フェーズにおける調査結果をまとめた報告書です。
- **PHASE2_STATUS.md**: プロジェクトの第2フェーズの現在の状態や進捗を示すドキュメントです。
- **QUICK_REFERENCE.md**: プロジェクトに関する重要な情報や操作方法などを素早く参照できるガイドです。
- **README.ja.md**: プロジェクトの概要、使い方、機能などを日本語で説明するメインのドキュメントです。
- **README.md**: プロジェクトの概要、使い方、機能などを英語で説明するメインのドキュメントです。
- **TESTING_GUIDE.md**: プロジェクトのテスト方法やテスト戦略に関するガイドラインを記述したドキュメントです。
- **_config.yml**: Jekyllなど、GitHub Pagesで利用される静的サイトジェネレーターの設定ファイルです。
- **generated-docs/**: 自動生成されたドキュメントやレポートなどを格納するためのディレクトリです。
- **issue-notes/**: 開発中に発生した特定の問題（イシュー）に関するメモや詳細情報を格納するディレクトリです。
  - **11.md, 13.md, ...**: 各ファイルが特定のイシューに関する詳細なメモや検討事項を記述しています。
- **src/**: Rustのソースコードが格納されているディレクトリです。
  - **app.rs**: アプリケーションの主要なビジネスロジックや、サーバーモードとクライアントモードの切り替え、コマンド処理の中核を担うモジュールです。
  - **cli.rs**: コマンドライン引数の解析と、それに応じた内部処理の振り分けを行うモジュールです。
  - **client_manager.rs**: サーバーモードが動作している際に、MML演奏リクエストを処理するクライアントとの通信を管理するモジュールです。
  - **converter.rs**: MMLの構文解析結果（AST）を、実際に音声波形を生成するためのオーディオデータ構造へ変換するロジックを扱うモジュールです。
  - **input.rs**: ユーザーからのMML文字列入力を受け取り、それを処理可能な形式に変換する役割を担うモジュールです。
  - **main.rs**: Rustアプリケーションのエントリポイント（プログラムの開始点）です。`app`モジュールや`cli`モジュールを呼び出して全体の処理を orchestrate します。
  - **process_manager.rs**: バックグラウンドで動作するサーバープロセスの起動、停止、状態監視などを管理するモジュールです。
  - **temp_file.rs**: アプリケーションが一時的にデータを保存するために使用するファイルの作成、読み書き、削除などを扱うモジュールです。

## 関数詳細説明
プロジェクト情報に具体的な関数の記述がないため、詳細な説明は提供できません。

## 関数呼び出し階層ツリー
```
プロジェクト情報に具体的な関数呼び出し階層の情報がないため、ツリーを生成できませんでした。

---
Generated at: 2025-11-10 07:03:12 JST
